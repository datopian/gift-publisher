{"version":3,"sources":["../node_modules/tableschema/lib/profiles sync /^/.//.*/.json$","components/ProgressBar/index.jsx","utils/index.js","components/InputFile/index.jsx","assets/upload.png","components/InputUrl/index.jsx","components/Choose/index.jsx","components/Upload/index.jsx","components/TablePreview/index.jsx","components/TableSchema/index.jsx","components/ResourceList/index.jsx","components/Metadata/index.jsx","progressBar.svg","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","ProgressBar","props","useState","offset","setOffset","circleRef","useRef","size","progress","strokeWidth","circleOneStroke","circleTwoStroke","timeRemaining","center","radius","circumference","Math","PI","useEffect","current","style","className","width","height","stroke","cx","cy","r","ref","strokeDasharray","strokeDashoffset","x","y","floor","onFormatBytes","bytes","decimals","k","dm","sizes","i","log","parseFloat","pow","toFixed","InputFile","onChangeHandler","type","name","onChange","src","alt","InputUrl","onChangeUrl","htmlFor","onBlur","onKeyDown","event","keyCode","target","blur","handleKeyPress","placeholder","Choose","uploadOption","setUploadOption","onClick","Upload","a","state","formattedSize","selectedFile","path","files","length","storeFile","setState","uploadedFileType","value","match","setErrorState","validFileSelected","then","resp","validFile","errorMsg","file","self","hash","onHashProgress","assign","descriptor","hasSameSchema","_descriptor","hasSameHash","rows","sample_stream","toArray","sample","slice","text","readfile1","headerLength","indexOf","removeHeader","dataFile","File","copyFile","data","hashCopy","column_names","tablePreviewColumns","item","Header","accessor","tablePreviewSample","forEach","temp_obj","field","push","metadataHandler","loaded","success","fileExists","error","uploadToFileStorageHandler","uploadToFileCopyStorageHandler","handleUploadStatus","loading","this","catch","fileType","Promise","reject","split","pop","fetch","addSchema","console","hashInProgress","hashLoaded","onUploadProgress","progressEvent","Number","total","onTimeRemaining","uploadInProgress","progressLoaded","kbps","Date","getTime","start","fileSize","resource","dataset","includes","resources","newFields","schema","fields","oldFields","JSON","stringify","organizationId","lfsServerUrl","client","Client","upload","datasetId","response","message","copySelectedFile","newResource","round","React","Component","TablePreview","columns","useTable","getTableProps","headerGroups","prepareRow","TableHead","headerGroup","TableRow","getHeaderGroupProps","headers","column","TableCell","getHeaderProps","render","TableBody","row","getRowProps","cells","cell","getCellProps","osTypesPath","osTypesDescPath","TableSchema","osTypes","userOSTypes","setUserOSTypes","osTypesDesc","userOSTypesDesc","setUserOSTypesDesc","setSchema","unfilledRichTypes","setUnfilledRichTypes","_selectInputs","_","selectFieldInputs","setSelectFieldInputs","totalSchemaLength","schemaPrevIndex","setSchIndex","richTypePrevIndex","setRichIndex","selectRefs","index","createRef","selectRefsState","json","uTypes","uTypeDesc","fetchTypes","resourceHasRichType","handleRichType","useMemo","columnsSchema","getTableBodyProps","handleChange","key","newSchema","background","newFInputs","undefined","alert","columnValue","textContent","trim","columnType","typeValue","filter","columnTypeOptions","label","renderEditSchemaField","disabled","types","customStyles","menu","provided","borderBottom","color","selectProps","menuColor","singleValue","opacity","isDisabled","transition","styles","options","inputValue","ResourceList","deleteResource","addResourceScreen","title","Metadata","isCheck","val","required","description","image","tags","govt_level","checked","author_website","author_email","pub_institutional_name","continent","region","country","countries","city","periodicity","years_included","start_date","end_date","encoding","encodeData","DatasetEditor","handleRichTypeCount","richTypeFilled","handleChangeMetadata","values","Array","from","Set","currentVals","mapDatasetToFiscalFormat","model","f","fdp","TypeProcessor","fieldsToModel","res","downloadDatapackage","fileDownload","window","confirm","temp_dataset","axios","method","url","metadata","setLoading","isLoading","ui","status","newUiState","nextScreen","prevScreen","setTimeout","onChangeResourceId","resourceId","currentStep","newStep","handleSaveDataset","saveButtonText","config","format","fileOrLink","uploadComplete","isResourceEdit","skipUpload","bind","mapResourceToDatapackageResource","updatedResource","fileResource","dialect","ReactLogo","onSubmit","preventDefault","authToken","savedDataset","defaultProps","authorizedApi","metastoreApi","element","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.855fce8d.chunk.js","sourcesContent":["var map = {\n\t\"./geojson.json\": 258,\n\t\"./table-schema.json\": 575,\n\t\"./topojson.json\": 259\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 574;","import React, { useEffect, useState, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./ProgressBar.css\";\n\nconst ProgressBar = (props) => {\n  const [offset, setOffset] = useState(0);\n  const circleRef = useRef(null);\n  const {\n    size,\n    progress,\n    strokeWidth,\n    circleOneStroke,\n    circleTwoStroke,\n    timeRemaining,\n  } = props;\n\n  const center = size / 2;\n  const radius = size / 2 - strokeWidth / 2;\n  const circumference = 2 * Math.PI * radius;\n\n  useEffect(() => {\n    const progressOffset = ((100 - progress) / 100) * circumference;\n    setOffset(progressOffset);\n\n    circleRef.current.style = \"transition: stroke-dashoffset 850ms ease-in-out\";\n  }, [setOffset, progress, circumference, offset]);\n\n  return (\n    <>\n      <svg className=\"svg\" width={size} height={size}>\n        <circle\n          className=\"svg-circle-bg\"\n          stroke={circleOneStroke}\n          cx={center}\n          cy={center}\n          r={radius}\n          strokeWidth={strokeWidth}\n        />\n        <circle\n          className=\"svg-circle\"\n          ref={circleRef}\n          stroke={circleTwoStroke}\n          cx={center}\n          cy={center}\n          r={radius}\n          strokeWidth={strokeWidth}\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n        />\n        <text x={`${center}`} y={`${center + 2}`} className=\"svg-circle-text\">\n          {progress}%\n        </text>\n      </svg>\n      {timeRemaining > 0 &&  <span className=\"time-remaining\">{timeRemaining > 60 ? `${Math.floor(timeRemaining /60)} minute${Math.floor(timeRemaining /60) > 1 ? 's' : ''}` : `${Math.floor(timeRemaining)} second${timeRemaining > 1 ? 's' : ''}`} left</span>}\n    </>\n  );\n};\n\nProgressBar.propTypes = {\n  size: PropTypes.number.isRequired,\n  progress: PropTypes.number.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n  circleOneStroke: PropTypes.string.isRequired,\n  circleTwoStroke: PropTypes.string.isRequired,\n};\n\nexport default ProgressBar;\n","const onFormatBytes = (bytes, decimals = 1) => {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1000;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n};\n\nconst removeHyphen = (id) => {\n  return id.replace(/-/g, \"\");\n};\n\nconst isValidURL = (val) => {\n  const res = val.match(\n    /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g\n  );\n  return res !== null;\n};\n\nexport { removeHyphen, onFormatBytes, isValidURL };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport './InputFile.css'\nimport upload from \"../../assets/upload.png\"\nconst InputFile = ({ onChangeHandler }) => {\n\n    return (\n        <div className=\"upload-area__drop\">\n            <input\n                className=\"upload-area__drop__input\"\n                type=\"file\"\n                name=\"file\"\n                onChange={onChangeHandler}\n            />\n            <img\n                className=\"upload-area__drop__icon\"\n                src={upload}\n                alt=\"upload-icon\"\n            />\n            <span className=\"upload-area__drop__text\">\n                Drag and drop your files\n                    <br />\n                    or <br />\n                    click to select\n                </span>\n        </div>\n    )\n}\n\nInputFile.propTypes = {\n    onChangeHandler: PropTypes.func.isRequired\n};\n\nexport default InputFile;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABMtSURBVHhe7Z17jFzlecZpAEPtYsw1Ra2aiABtUtqgqopSaNX2zypJubRAqtRBpOGv1hWmLTaE7tLGxeu9nRmvZ+3dxWxwLxL8EYcGVy2tKEkpTSBgBwLUGMdGwk7wpZc4oQoYbZ/Heqesd8fb2d05tzm/n/TozM7Mzpzzfu/7nO/7zmVOAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyJF77rnnR3p6es7atGnTsnq9fk6SJOdaY2Njy/3c5OTkWQ899NB74u0AUDZcwCroC0ZGRj66cePGW2q12j1ajqrgvyR9VXpB2ie9Lh3S64f1+nek/dK3pCelR6Qteq1Hy1ukqwcGBi7CHAAKxvXXX/8eFeplLlTtxRMtn1RhH5YBvLVly5aprVu3Tt1///1T4+PjUzKGKT+3efPmqdHR0ZPk5/ya3+P3+n/8v35On/m2PvOIlk/pO/Swfqs+//Le3t7TYzUAICvUjT9ThXiNCv/zKkTvsY81i90F7ILW61N6zcW7KPkz/Fn+TH928ztkAt/Xa09puU6v/4qWS2L1ACANhoaGrlTR9argntXyuPfSLsZGo9GRYm9X/i5/p7/b66D1Oa7ndnrd9PrPx+oCwGLxuFsF9psqru3ay77ZLHrvlWcWZl7yujR7B1rP/5E5bJeuZYgAsEDczVcRrZSe8vh8YmLixF63VQEWSV5Hr6vXWY//zdvA8ABgHmgverMK52uejLP0d8tiK7K8zs31Vw/hGT33ydg8AGiF9pS/pmJ5zN3pshb+TDWNIIYt/zQ8PPzrsbkAYNatW/fjKpaGiuUdd5+7ofBnyts0bdtGtbwkNh+gutRqtRu0Z9ztyb0yjPEXK2+jJwtHR0d3e9sjDADVQl3i5doLbvRkmbvHrYqlm+Vt9rYrBg3HIsIC0P0kSfJh7fW/7j2hli0LpArytkcMvl6v16+K8AB0L0r0G9X9fcPj4VZFUUU5ForJIccmwgTQfSjZ/8Sn1Mb59WiaHBPHRo/XRLgAugcl9rAPh0WSoxZybBwjPU6mpqYicgAlxqfDjoyMTMQ587OSHp0sx8ix0uOt6hWcEWEEKB9R/A9S/PNTc3JQsduGCUApcRfWe/5I5JaJjk4tx8yx0+OtvpNRhBWgHNTr9YQ9/+JkE3AMayLCClB8kiT547gIpmVio/blGDqWiumdEV6A4qKd1W+Pjo6+w2x/5+RYSscd2wgzQPHo7+//Oe2xjlTx1N605fMEFNujQ0ND3HEIikdvb+85StRvxCEslILi7Mlv1Ov1cyLsAMVAY9RNMWuNUpRjLAMYjbAvGn3WEvUslvX19S3XMGOFfyfBjwcGBpY+/PDDZ8bbAE6NuqXXeZzKpF/68uXEvorQMY/wt8X69etXqH0+os/4jIp+nZYPSv+oxzu1/Lbk30bwrc99TcJBLV/V8jnpMekL0p9Lt+r7f9EmER8LVWdwcPACJxDj/uwUsd7nHyuJZpiF2uVsveeXpc+p8P9WxXtgZGTkLf+vexEeqvnogucWbCgx0fh/8nN+ze/xe/0//luf98P4rEe0vFuG8Ev+RaX4WqgaSogGXf/sFTE/aSjgE4ZU7NeoMAf02osq0hO3To+rDU/00HxuwfTPmY/8v/4Mm4M/05+tv9/Way/UarV+m0GsClQB7WWucQK4WzozWVC6csylt4eHh69WwXsc7+75E1oeb+6tXayt/reT8nf4u/ydMoi39fc/S7donZio7GZ8v365/hNc15+fvCdWob2sx7vcVc/75Ct/97T1eFmGsLq3t/e8SBnoJlT8N3s8uZguJVq8mmP1IrWD18Xr5J2DjUDPfda/4RipA2XHXU4ZwE47/czGR2i6vJOwEXh4kiTJr0YKQZlRw6508bP3R+3IeWIT0NJzBH3SskglKBu+xl89gGfY+6P5yhOXniyUAfhXlX8hUgrKhBru4x53qhFbNjJC/59iSHBUj1dGWkFZUKM9wvn+aLHyJGEcqrw3UguKTpIkP6MewJvuyrVqVITmI+dRHEYelxlw67Oio4a6l70/6qQ8lIyzGv+mp6eHU4qLyuOPP366GmkX5/yjTstHCZomQE+goKhxrpZbH2fyD6WhpgnUarXxSDkoEmqkz4dLI5SKbAIeYtbr9T+LtIMi4KvM1Cj/yrF/lLY8MejDzOoJfCrSD/JGjXGZDOAHzP6jLBTnmfxnkiQfjhSEPJEBfNrHbN1Fa9VgCHVacXjwad+aLNIQ8kIGUGf8j7KWc049z75IQ8gDj//VGE9y+A9lLQ85Jd+CjDsN5YXv+acGOOxbSrVqJITSlIcCnoDm/ICc0Lj/o2oAjv+jXOR5p5gP+GykJGSJGoAJQJSrYvj5qpbLIy0hKxT4zzEBiPJWnCC0OtISskJB34wBoLzlXqhy0T9Wwt2Gs0TB/xJnAKK85SGo81AGcGukJqRNnAL8VQ4BoiIoDOBfnJeRopAmO3bsWKLAP+/u18zGQChr+UiUegLHkyT5SKQopIkCvkyOu8/nZrdqEISyluejarVaf6QopIknXKQDnASEiqKYDHxRWhJpCmnhn4FWoA9hAKgoimHAO8pLTg9OGxX+CgX9CAaAiqQ4J+DuSFNIi76+vuUK9HcxAFQkxfUBX440hTRRoJkERIWSd0gaBhys1WoXR5pCpxkaGjpPQV7daDT+iwuBUNFkE1BefkuP78AIOkhvb+85Kvw/UuG/4q4WxY+KKh8R8HyAcnS//r5LeXt+pDEsBAXxJgVzl4PKFYCoLJpmBC8rZz8d6QztMjg4eLkC90Wf8stpv6iscu76dGHl8g4NYa+M9Ia5UOBuUXf/QDhoy8AiVBa51+pcVk4f0uPbIs1hJrfffvvZClDN3SerVTARKqt85Mq9ARnB2IYNG34s0h6MAnJJvV5/zOdVs9dH3SrntnNcO7qvJEnyvkj/aqNAXKHA7IzAtAwcQt0k57p6Ai/VarWfjTKoJtrrf1DFv9djpFaBQqhbFYe096sGropyqBZyv8u0x99D8aOqKkzgtcr1BPr7+9+rALxA8aOqyyagHeHuwcHBn4zy6G4mJyfP0ob/vcdBM4OBspXnXJh3yV/NiUH1BpZFmXQvGvNsYsIvfynZTpy/Huewt3wPykauBdeEamMiyqQ7SZLkkz47ioTLV41Go3mG5V1KurV+7Odmvg9lJ9eEzxOo1WqfiXLpLpRol2pDD3GST75yoTvR9PjeaBq3TW+cpDLr/Sg7+WQh9Qb+Q72yK6Jpugft/bcz7s9XrYq/CSZQDHliXL2Av+uqW40PDw/f6D0/Xf/8NFfxN8EE8pfnA9wGaovfjWYpNyp638p7N1f15ad2ir8JJpC/XCtqh1d9E9xolvKi7sztHO/PT/Mp/iaYQP5yzagd1kaTlBPfxksbsZ+Jv3y0kOJvggnkK08Iqg1ely6MJikf2pDfZ++fjxZT/E0wgXwVE4J3RHOUi56enjOVQDsjCVGG6kTxN8EE8pN7zjKAF1VLZ0VzlAet+MfiuGbLjUPpqJPF3wQTyEeunaihT0RTlAcZwAN0/7NVGsXfBBPIRzEZ+NfRDOVAjnW+Vvqg3avVRqHOK83ib4IJZC9fq6G4+/cwL4pmKD7a+9/g8Qvd/2yURfE3wQSylWsojqLdFE1QfGQANU77zUZZFn8TTCBbxVB6NMJfbHp7e09X/T/LmX/pK4/ib4IJZCf3ABTvXbfddtsZEf7iohV+v1b2ByRGusqz+JtgAtnI8VWs3xwaGvpAhL64aMzyMV/0w4U/6Wmhxa/3r/Lt2OLPWajndrH0h/FnW2AC6cu15MlAPb4+wl5clBB3cvgvPS20+NUu66S3BgYGTjmbrNcvlH6oz/6LeKot9D+YQMqKswLvipAXFyXDZiYA09Eiiv9PH3jgAXcjj2lPsiKensXk5OS5+uz/jvf2xtNtgQmkq6ip8Qh3cdFKbvedTqevPFq8FlP8/r+YlD3iC7TipVnYHPSew36v/wcTKI5cU4rvjgh1MfERAK3k1zgC0Fkttvj9/3FCydE2DOCI39v8Thd1vNwWfj8m0HnFuQDPaFncIwEq/B/VSu7mDMDOqRPF78+ZrwFM/25MIH9FTe3Ztm3b0ghz8fCvnqrxX8MAOqNOFb+1EAOwMIFiKNrvoHrZxb1LkG9hpJV9Y3oCoYWpk8VvLdQALEwgf0X7zTmHkzs2gFqtdhgDWJw6XfzWYgzAwgTyVbSfa+uUR3Fyp6+vb7lW9kCrBELtKY3ityKBFmwAFiaQn6JNDoyNjS2PsBaPgYGBpWrsV5gDWJjSKn6rEwZgYQL5KGrqlZ6enuL+fmAcBnyaw4DzV5rFb3XKACxMIHu5plxbhT4MaLSSOyKRUZtKu/itThqAhQlkq4j1oxHG4qKVHONU4PaVRfFbnTYACxPITq6pWq22JUJYXNS4azGA9pRV8VtpGICFCWSjuMBuTYSvuIyMjFznBOJy4LmVZfFbaRmAhQmkK9dSxOjaCF1xUYJ9QA3LDUHmULNg9DiT4rfSNACruU2YQOfl2LimpEsjbMXFty3SSu+KixfQDOVR/FbaBmBhAukoauk5H2WLkBUbrewoNwWZLXfl4hBppsVvZWEA1mJMwLFh6DhbMQE4EqEqPmrEG+1a3Bb8XTkWUYR3R5jaohPFb2VlANZCTcB3vPF3kzfvyrFwLSmWvxVhKj5qxIu08lwUNE1NA5jPbZ06VfyWvzsrA7AWYgKKzRp/NwbwrqItvjM4OHhBhKkcqOH/imHAyWoOAdopik4Wv5W1AVjzMQFvr/d0DAFOVtwL8MEIU3lIkuQTPn8ZNz9Z7RRFp4vfysMArLy2txvk2nENyQB+I0JVHvyTxlrxF7kuYLbmKoq0iiEvA7Dy2N5uUPQWn5eWRLjKhVZ8NcOA1mpVFGkWQ54GYGW9vd2gqJ1VEa7yoQb2feZf5/Lg1nLiRw9pjeJ0p8fAaRVD3gZgZbm9ZZdjo+X+udqrFGgj1tALOLU86eWCs9KcACuCAVhZbW/ZFZN/d0TTlJe4T+Ae5gJOLU/2pD1ZWhQDsLLY3jIrxv4v+ya70TTlRk72KY/1aPT8VCQDQKeWa8QGoB3nTdEs5WdqasomsIOhQH7CAMqhOO13ezRJ9yBHu0LudjQmN1DGwgCKr6iNQ2qn4l/1txC0Ybd6KMDkT/bCAIot14QNQHv/34nm6E7UExjnjkHZCwMorjzud02oNjZGU3Qvvq2xEvErmEC2wgCKK8+NyQQeGxwcPDuaortRIv6ENvzf+Rnx7IQBFFMxMf58f3//e6MZqoGS8YNyvdcwgWyEARRPseffq3H/ZdEE1UJdnqsajcY+TCB9YQDFkot/06ZNe4aHhz8U4a8mCsKHpJeYE0hXGEAx1Jzw0+Nv6vHlEfpqMzAw8FMKyBMODIcI0xEGkL+c21H8/7Bhw4ZLIuxgfHRAgdni8wS4erDzwgDylY/xx4k+dd8rI0IOM1G36PeUgG/EBMmsQKKFCQPIR80uv2J6QH+vjFDDXChJr1TgvuzeAFcRdkYYQPZy7lrK5S/q75+OMEO7KGgrG43GS+4NcA3B4oQBZCfnqnNWufvNWq12c4QXFsJ99913vhx0rQ8XOqjhqC0Dj04tDCBdOSedmzF0fVXP3dHX17c8QguLRU56sRJ4tYK7y5OEDrQTFTNoTxhA5+Xcc6yauaid1LPSH5TuHv5lwjOoCvK10l+qEb7r7pYnWbzUcxxGPIUwgMXLueUca+ZcHK06KCP4gp7/+KpVq8p5996y4vOnFfyb1QgNaZcS/PtNR3YDeRLRjeWG8vNVlmOh+BxTEi+L8M1i27ZtS/We7/m9rT6jSnLOOHccC+eSc8rFr3w7plx7ThpRrG7UaxdG+CBP1BhLfE61dIMer1VDbVYjParHT2u5R8uD0mHpaBWl5PVyX5Ik71OCr2glmYNPyPp2vLeSUv44Rw5Gzjh3HpVG9dg5dZ1M4VI9Zk9fFtRgZ3jPNjY2ttxJ7i5wFTUxMXGeEvn9St69KvAjenyS/Jxf83v83lafUQWtX79+hXNlYGBgqXMn0gig/MzVxW9niAAAJcY9IO/tXfBaniQ/JwOYc5IQAEoMBgBQYTAAgAqDAQBUGAwAoMJgAAAVBgMAqDAYAECFwQAAKgwGAFBhMACACoMBAFQYDACgwmAAABUGAwCoMBgAQIXBAAAqDAYAUGEwAIAKgwEAVBgMAKDCYAAAFQYDAKgwGABAhcEAACoMBgBQYTAAgAqDAQBUGAwAoMJgAAAVBgMAqDAYAECFwQAAKgwGAFBhMACACoMBAFQYG4CK/Hvj4+MnCn66/JxeO4YBAHQpSZKcqyLf22g0jnpvP13x3N7169eviLcDQDcxNTV1ohcwMTFxnvf00+Xn/JrfAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0DWcdtr/AlK5re2oK4fRAAAAAElFTkSuQmCC\"","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./InputUrl.css\";\n\nconst InputUrl = ({ onChangeUrl }) => {\n  const handleKeyPress = (event) => {\n    if (event.keyCode === 13) {\n      event.target.blur();\n    }\n  };\n\n  return (\n    <div className=\"upload-area__url\">\n      <label className=\"upload-area__url__label\" htmlFor=\"input-url\">\n        URL:\n      </label>\n      <input\n        className=\"upload-area__url__input\"\n        id=\"input-url\"\n        type=\"url\"\n        name=\"input-url\"\n        onBlur={onChangeUrl}\n        onKeyDown={(event) => handleKeyPress(event)}\n        placeholder=\"https://www.data.com/sample.csv\"\n      />\n    </div>\n  );\n};\n\nInputUrl.propTypes = {\n  onChangeUrl: PropTypes.func.isRequired,\n};\n\nexport default InputUrl;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport InputFile from \"../InputFile\";\nimport InputUrl from \"../InputUrl\";\nimport './Choose.css'\n\nconst Choose = ({ onChangeUrl, onChangeHandler }) => {\n  const [uploadOption, setUploadOption] = useState(false);\n\n  return (\n    <div className=\"upload-choose\">\n      {uploadOption ? (\n        <>\n          {uploadOption === \"file\" && (\n            <InputFile onChangeHandler={onChangeHandler} />\n          )}\n          {uploadOption === \"url\" && <InputUrl onChangeUrl={onChangeUrl} />}\n        </>\n      ) : (\n        <div>\n          <button className=\"choose-btn\" onClick={() => setUploadOption(\"file\")}>Choose a file to Upload </button>\n          <p className=\"choose-text\">OR</p>\n          <button className=\"choose-btn\" onClick={() => setUploadOption(\"url\")}>Link a file already online</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nChoose.propTypes = {\n  onChangeUrl: PropTypes.func.isRequired,\n  onChangeHandler: PropTypes.func.isRequired,\n};\n\nexport default Choose;\n","import React from \"react\";\nimport { Client } from \"giftless-client\";\nimport * as data from \"frictionless.js\";\nimport ProgressBar from \"../ProgressBar\";\nimport { onFormatBytes, isValidURL } from \"../../utils\";\nimport Choose from \"../Choose\";\nimport toArray from \"stream-to-array\";\nimport \"./Upload.css\";\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      datasetId: props.datasetId,\n      organizationId: props.organizationId,\n      dataset: props.dataset,\n      selectedFile: null,\n      fileSize: 0,\n      formattedSize: \"0 KB\",\n      start: \"\",\n      loaded: 0,\n      success: false,\n      error: false,\n      fileExists: false,\n      loading: false,\n      timeRemaining: 0,\n      hashInProgress: false,\n      hashLoaded: 0,\n      uploadInProgress: false,\n      uploadedFileType: null,\n    };\n  }\n\n  onChangeHandler = async (event) => {\n    let { formattedSize, selectedFile } = this.state;\n    let path = \"\";\n    let storeFile;\n    let dataFile, hashCopy;\n    if (event.target.type == \"file\" && event.target.files.length > 0) {\n      storeFile = event.target.files[0]\n      selectedFile = event.target.files[0];\n      path = `data/${selectedFile.name}`; //path property in data package resource\n      this.setState({ uploadedFileType: \"file\" });\n    } else {\n      selectedFile = event.target.value;\n      if (!isValidURL(selectedFile)) {\n        this.setErrorState(\"Invalid URL! Please ensure entered URL is correct\");\n        return;\n      }\n      this.setState({ uploadedFileType: \"url\" });\n      path = selectedFile;\n    }\n\n    this.validFileSelected(selectedFile, event.target.type).then(async (resp) => {\n      const { validFile, errorMsg, file } = resp\n\n      if (!validFile) {\n        this.setErrorState(errorMsg);\n        return;\n      }\n\n      formattedSize = onFormatBytes(file.size || 0);\n\n      let self = this;\n      const hash = await file.hash(\"sha256\", (progress) => {\n        self.onHashProgress(progress);\n      });\n\n      Object.assign(file.descriptor, { hash });\n\n      //check if file has the same schema\n      if (!this.hasSameSchema(file._descriptor)) {\n        this.setErrorState(\n          \"Schema of uploaded resource does not match existing one!\"\n        );\n        return;\n      }\n\n      //check if file already exists in resource\n      if (this.hasSameHash(file._descriptor)) {\n        this.setErrorState(\"Possible duplicate, the resource already exists!\");\n        return;\n      }\n\n      //get sample\n      let sample_stream = await file.rows({ size: 460 });\n      let sample = (await toArray(sample_stream)).slice(0, 30);\n\n      \n      if (storeFile) {\n        let readfile1 = await storeFile.text()\n        let headerLength = readfile1.indexOf(\"\\n\") + 1\n\n        let removeHeader = storeFile.slice(headerLength,)\n        dataFile = new File([removeHeader], selectedFile.name, {\n          type: \"text/csv\",\n        });\n\n        let copyFile = data.open(dataFile)\n\n        hashCopy = await copyFile.hash(\"sha256\", (progress) => {\n          self.onHashProgress(progress);\n        });\n        Object.assign(copyFile.descriptor, { hashCopy });\n      }\n      \n      //get column names for table\n      const column_names = sample[0]; //first row is the column names\n      const tablePreviewColumns = column_names.map((item) => {\n        return {\n          Header: item,\n          accessor: item,\n        };\n      });\n\n      //prepare sample for use in table preview component\n      let tablePreviewSample = [];\n      sample.slice(1, 11).forEach((item) => {\n        let temp_obj = {};\n        item.forEach((field, i) => {\n          temp_obj[column_names[i]] = field;\n        });\n        tablePreviewSample.push(temp_obj);\n      });\n\n      if (storeFile) {\n        this.props.metadataHandler(\n          Object.assign(file.descriptor, {\n            sample,\n            tablePreviewSample,\n            tablePreviewColumns,\n            path,\n            hashCopy\n          })\n        );\n      } else {\n          this.props.metadataHandler(\n          Object.assign(file.descriptor, {\n            sample,\n            tablePreviewSample,\n            tablePreviewColumns,\n            path,\n          })\n        );\n      }\n\n      this.setState({\n        selectedFile,\n        loaded: 0,\n        success: false,\n        fileExists: false,\n        error: false,\n        formattedSize,\n      });\n\n      await this.uploadToFileStorageHandler();\n\n      if (storeFile) {\n        await this.uploadToFileCopyStorageHandler(dataFile)\n      } else {\n        this.props.handleUploadStatus({\n          loading: false,\n          success: true,\n        });\n      }\n    }).catch((error) => {\n      const { errorMsg } = error\n      this.setErrorState(errorMsg);\n    })\n  };\n\n  validFileSelected = (selectedFile, fileType) => {\n    return new Promise(async (resolve, reject) => {\n      if (fileType == \"url\") {\n        const fileExt = selectedFile.split(\".\").pop();\n        if (fileExt != \"csv\") {\n          reject({\n            validFile: false,\n            errorMsg:\n              \"File Type not supported! Please ensure specified url links to a CSV file\",\n          });\n          return;\n        }\n\n        fetch(selectedFile)\n          .then(async (resp) => {\n            let file;\n            try {\n              file = data.open(selectedFile);\n              await file.addSchema();\n              resolve({\n                validFile: true,\n                errorMsg: \"\",\n                file,\n              });\n            } catch (error) {\n              reject({\n                validFile: false,\n                errorMsg: \"An error occurred when trying to download the file!\",\n              });\n            }\n          })\n          .catch((error) => {\n            reject({\n              validFile: false,\n              errorMsg: `An error occured when trying to download the file!\n               This can happen because CORS is disabled on the server or if the file does not exist.`,\n            });\n          });\n      } else {\n        const fileExt = selectedFile.type.split(\"/\").pop();\n        if (fileExt != \"csv\") {\n          reject({\n            validFile: false,\n            errorMsg: \"File Type not supported! Please upload a CSV file\",\n          });\n          return;\n        }\n        if (selectedFile.size == 0) {\n          reject({\n            validFile: false,\n            errorMsg:\n              \"CSV file is empty! Please upload a CSV file with contents\",\n          });\n          return;\n        }\n\n        try {\n          const file = data.open(selectedFile);\n          await file.addSchema();\n          resolve({ validFile: true, errorMsg: \"\", file });\n        } catch (error) {\n          console.log(error);\n          reject({\n            validFile: false,\n            errorMsg: \"An error occurred when trying to load the file!\",\n          });\n        }\n      }\n    });\n  };\n\n  setErrorState(errorMsg) {\n    this.setState({ error: true, loading: false });\n    this.props.handleUploadStatus({\n      loading: false,\n      success: false,\n      error: true,\n      errorMsg,\n    });\n  }\n\n  onHashProgress = (progress) => {\n    if (progress == 100) {\n      this.setState({ hashInProgress: false });\n    } else {\n      this.setState({ hashLoaded: progress, hashInProgress: true });\n    }\n  };\n\n  onUploadProgress = (progressEvent) => {\n    const loaded = Number(\n      ((progressEvent.loaded / progressEvent.total) * 100).toFixed()\n    );\n    this.onTimeRemaining(progressEvent.loaded);\n    this.setState({\n      loaded,\n      uploadInProgress: true,\n    });\n  };\n\n  onTimeRemaining = (progressLoaded) => {\n    const end = new Date().getTime();\n    const duration = (end - this.state.start) / 1000;\n    const bps = progressLoaded / duration;\n    const kbps = bps / 1024;\n    const timeRemaining = (this.state.fileSize - progressLoaded) / kbps;\n    this.setState({\n      timeRemaining: timeRemaining / 1000,\n    });\n  };\n\n  hasSameSchema = (resource) => {\n    if (\n      Object.keys(this.state.dataset).includes(\"resources\") &&\n      this.state.dataset.resources.length > 0\n    ) {\n      const newFields = resource.schema.fields.map((field) => {\n        return field.name;\n      });\n      const oldFields = this.state.dataset.resources[0].schema.fields.map(\n        (field) => {\n          return field.name;\n        }\n      );\n      return JSON.stringify(newFields) === JSON.stringify(oldFields);\n    } else {\n      return true;\n    }\n  };\n\n  hasSameHash(newResource) {\n    if (\n      Object.keys(this.state.dataset).includes(\"resources\") &&\n      this.state.dataset.resources.length > 0\n    ) {\n      const { resources } = this.state.dataset;\n      const sameHashes = resources.map((resource) => {\n        return resource.hash == newResource.hash;\n      });\n      return sameHashes.includes(true);\n    } else {\n      return false;\n    }\n  }\n\n  uploadToFileStorageHandler = async () => {\n    const { selectedFile, uploadedFileType } = this.state;\n    if (uploadedFileType == \"url\") {\n      this.setState({\n        success: true,\n        loading: false,\n        loaded: 100,\n      });\n\n      this.props.handleUploadStatus({\n        loading: false,\n        success: true,\n      });\n    } else {\n      const start = new Date().getTime();\n      const { organizationId, lfsServerUrl } = this.props;\n      const client = new Client(lfsServerUrl);\n\n      const resource = data.open(selectedFile);\n      this.setState({\n        fileSize: resource.size,\n        start,\n        loading: true,\n      });\n\n      client\n        .upload(\n          resource,\n          organizationId,\n          this.state.datasetId,\n          this.onUploadProgress\n        )\n        .then((response) => {\n          this.setState({\n            success: true,\n            loading: false,\n            fileExists: !response,\n            loaded: 100,\n          });\n\n          // this.props.handleUploadStatus({\n          //   loading: false,\n          //   success: true,\n          // });\n        })\n        .catch((error) => {\n          console.error(\"Upload failed with error: \" + error);\n          this.setState({ error: true, loading: false });\n          this.props.handleUploadStatus({\n            loading: false,\n            success: false,\n            error: true,\n            errorMsg: `Upload failed with error: ${error.message}`,\n          });\n        });\n    }\n  };\n\n  uploadToFileCopyStorageHandler = async (copySelectedFile) => {\n    \n    const start = new Date().getTime();\n    const { organizationId, lfsServerUrl } = this.props;\n    const client = new Client(lfsServerUrl);\n\n    const resource = data.open(copySelectedFile);\n    this.setState({\n      fileSize: resource.size,\n      start,\n      loading: true,\n    });\n\n    client\n      .upload(\n        resource,\n        organizationId,\n        \"copy\",\n        this.onUploadProgress\n      )\n      .then((response) => {\n        this.setState({\n          success: true,\n          loading: false,\n          fileExists: !response,\n          loaded: 100,\n        });\n\n        this.props.handleUploadStatus({\n          loading: false,\n          success: true,\n        });\n      })\n      .catch((error) => {\n        console.error(\"Upload failed with error: \" + error);\n        this.setState({ error: true, loading: false });\n        this.props.handleUploadStatus({\n          loading: false,\n          success: false,\n          error: true,\n          errorMsg: `Upload failed with error: ${error.message}`,\n        });\n      });\n    \n  };\n\n  render() {\n    const {\n      success,\n      fileExists,\n      error,\n      selectedFile,\n      formattedSize,\n      hashInProgress,\n      uploadInProgress,\n      uploadedFileType,\n    } = this.state;\n    return (\n      <div>\n        <Choose\n          onChangeUrl={this.onChangeHandler}\n          onChangeHandler={this.onChangeHandler}\n        />\n        {uploadedFileType == \"url\" ? (\n          <div>\n            <p className=\"upload-file-name\">Retrieving file from url...</p>\n          </div>\n        ) : (\n          hashInProgress && (\n            <div>\n              <>\n                <div>\n                  <p className=\"upload-file-name\">Computing file hash...</p>\n                </div>\n                <ProgressBar\n                  progress={Math.round(this.state.hashLoaded)}\n                  size={100}\n                  strokeWidth={5}\n                  circleOneStroke=\"#d9edfe\"\n                  circleTwoStroke={\"#7ea9e1\"}\n                />\n              </>\n            </div>\n          )\n        )}\n        {uploadInProgress && (\n          <div>\n            <>\n              <div>\n                <p className=\"upload-file-name\">\n                  Uploading {selectedFile.name}...\n                </p>\n                <p className=\"upload-file-name\">Size: {formattedSize}</p>\n              </div>\n              <ProgressBar\n                progress={this.state.loaded}\n                size={100}\n                strokeWidth={5}\n                circleOneStroke=\"#d9edfe\"\n                circleTwoStroke={\"#7ea9e1\"}\n              // timeRemaining={timeRemaining}\n              />\n              <h2>\n                {success &&\n                  !fileExists &&\n                  !error &&\n                  \"File uploaded successfully\"}\n                {error && \"Upload failed\"}\n              </h2>\n            </>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Upload;\n","import React from \"react\";\nimport { useTable } from \"react-table\";\nimport MaUTable from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\n\nconst TablePreview = ({ columns, data }) => {\n  const { getTableProps, headerGroups, rows, prepareRow } = useTable({\n    columns,\n    data: data.slice(0, 5),\n  });\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <MaUTable {...getTableProps()}>\n            <TableHead>\n              {headerGroups.map((headerGroup) => (\n                <TableRow {...headerGroup.getHeaderGroupProps()}>\n                  {headerGroup.headers.map((column) => (\n                    <TableCell {...column.getHeaderProps()}>\n                      {column.render(\"Header\")}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableHead>\n            <TableBody>\n              {rows.map((row, i) => {\n                prepareRow(row);\n                return (\n                  <TableRow {...row.getRowProps()}>\n                    {row.cells.map((cell) => {\n                      return (\n                        <TableCell {...cell.getCellProps()}>\n                          {cell.render(\"Cell\")}\n                        </TableCell>\n                      );\n                    })}\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n      </MaUTable>\n    </div>\n  );\n};\n\n\nexport default TablePreview;","import React, { useState, useEffect, useRef } from \"react\";\nimport Select from \"react-select\";\nimport PropTypes from \"prop-types\";\nimport { useTable } from \"react-table\";\nimport types from \"../../db/types.json\";\nimport osTypes from \"../../db/os-types.json\";\nimport osTypesDesc from \"../../db/os-type-descriptions.json\";\nimport \"./TableSchema.css\";\n\nconst osTypesPath =\n  \"https://raw.githubusercontent.com/gift-data/gift-os-types/main/os-types.json\";\nconst osTypesDescPath =\n  \"https://raw.githubusercontent.com/gift-data/gift-os-types/main/os-type-descriptions.json\";\n\n\nconst TableSchema = (props) => {\n  const [userOSTypes, setUserOSTypes] = useState(osTypes); //set default value to local types in case of fetch issue\n  const [userOSTypesDesc, setUserOSTypesDesc] = useState(osTypesDesc);\n  const [schema, setSchema] = useState(props.schema);\n  const [unfilledRichTypes, setUnfilledRichTypes] = useState(\n    props.schema.fields.length\n  );\n  const _selectInputs = props.schema.fields.map((_) => undefined)\n  const [selectFieldInputs, setSelectFieldInputs] = useState(_selectInputs);\n  const totalSchemaLength = props.schema.fields.length;\n  const [schemaPrevIndex, setSchIndex] = useState(null);\n  const [richTypePrevIndex, setRichIndex] = useState(null);\n\n  //Refs used in updated select field style. \n  // This is used to notify the user which rich type has incorrect value.\n  let selectRefs = useRef([]);\n  selectRefs = props.schema.fields.map(\n    (_, index) => selectRefs.current[index] = React.createRef()\n  )\n  const [selectRefsState, _] = useState(selectRefs);\n\n  useEffect(() => {\n    async function fetchTypes() {\n      let uTypes = await (await fetch(osTypesPath)).json();\n      let uTypeDesc = await (await fetch(osTypesDescPath)).json();\n      setUserOSTypes(uTypes);\n      setUserOSTypesDesc(uTypeDesc);\n    }\n    fetchTypes();\n  }, []);\n\n  useEffect(() => {\n    if (\n      props.dataset.resources &&\n      props.dataset.resources.length > 1 &&\n      resourceHasRichType(props.dataset)\n    ) {\n      props.handleRichType(0);\n    }\n  }, []);\n\n  const data = React.useMemo(() => [...props.data], [schema]);\n\n  const columnsSchema = schema.fields.map((item, index) => {\n    return {\n      Header: item.name ? item.name : `column_${index + 1}`,\n      accessor: item.name ? item.name : `column_${index + 1}`,\n    };\n  });\n\n  const columns = React.useMemo(() => [...columnsSchema], [schema]);\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({ columns, data });\n\n  const handleChange = (event, key, index) => {\n    const value = event.value\n    const newSchema = { ...schema };\n    if (key == \"columnType\") {\n      const type = newSchema.fields[index][\"type\"]\n      const selectedRichType = userOSTypes[value]['dataType']\n      if (type == selectedRichType) { //do richtype validation here\n        selectRefsState[index].current.style.background = \"white\";\n        const value = event.value\n\n        newSchema.fields[index][key] = value;\n        setSchema(newSchema);\n        setUnfilledRichTypes(unfilledRichTypes - 1);\n        props.handleRichType(unfilledRichTypes - 1);\n\n      } else {\n        const newFInputs = [...selectFieldInputs,]\n        newFInputs[index] = undefined\n        setSelectFieldInputs(newFInputs)\n        selectRefsState[index].current.style.background = \"red\";\n        \n        if (unfilledRichTypes < totalSchemaLength && index != richTypePrevIndex) {\n          setUnfilledRichTypes(unfilledRichTypes + 1);\n          props.handleRichType(unfilledRichTypes + 1);\n          setRichIndex(index)\n        }\n        alert(`Invalid richtype for type ${type}`)\n      }\n\n    } else {\n      let columnValue = selectRefsState[index].current.textContent.split('➜')[0].trim()\n      columnValue = columnValue === \"Select...\" ? undefined : columnValue\n      const columnType = columnValue ? userOSTypes[columnValue]['dataType'] : undefined\n      const typeValue = event.target.value\n      if (columnValue) {\n        if (columnType != typeValue) {\n          const newFInputs = [...selectFieldInputs,]\n          newFInputs[index] = undefined\n          setSelectFieldInputs(newFInputs)\n          selectRefsState[index].current.style.background = \"red\";\n          \n          if (unfilledRichTypes < totalSchemaLength && index != schemaPrevIndex) {\n            setUnfilledRichTypes(unfilledRichTypes + 1);\n            props.handleRichType(unfilledRichTypes + 1);\n            setSchIndex(index)\n          }\n          newSchema.fields[index][key] = typeValue;\n          setSchema(newSchema);\n          alert(`Invalid richtype for type ${typeValue}`)\n        } else {\n          selectRefsState[index].current.style.background = \"white\";\n          newSchema.fields[index][key] = typeValue;\n          setSchema(newSchema);\n          setUnfilledRichTypes(unfilledRichTypes - 1);\n          props.handleRichType(unfilledRichTypes - 1);\n        }\n        \n      } else {\n        newSchema.fields[index][key] = event.target.value;\n        setSchema(newSchema);\n      }\n      \n    }\n  }\n\n  const resourceHasRichType = (dataset) => {\n    if (\n      Object.keys(dataset).includes(\"resources\") &&\n      dataset.resources.length > 0\n    ) {\n      const fields = dataset.resources[0].schema.fields;\n      const columnTypes = fields.filter((field) => {\n        return Object.keys(field).includes(\"columnType\");\n      });\n\n      const hasRichTypes = columnTypes.length == fields.length ? true : false;\n      return hasRichTypes;\n    }\n  };\n\n  //if the the user upload a new file, will update the state\n  //and render with the new values\n  useEffect(() => {\n    setSchema(props.schema);\n  }, [props.schema]);\n\n  //set column types search input box\n  let ctypeKeys = Object.keys(userOSTypes);\n  const columnTypeOptions = ctypeKeys.map((key) => {\n    let desc;\n    let label;\n    let value = key;\n    if (userOSTypesDesc[key]) {\n      desc = userOSTypesDesc[key][\"description\"];\n      label = value + \" \" + \"➜\" + \" \" + desc;\n    } else {\n      desc = \"\";\n      label = value;\n    }\n\n    return { label, value };\n  });\n\n  const renderEditSchemaField = (key) => {\n    if (key === \"type\") {\n      if (\n        props.dataset.resources &&\n        props.dataset.resources.length > 1 &&\n        resourceHasRichType(props.dataset)\n      ) {\n        const existingTypes = props.dataset.resources[0].schema.fields.map(\n          (field) => {\n            return field.type;\n          }\n        );\n        //The schema already exists. Prefill and set to uneditable\n        return existingTypes.map((item, index) => (\n          <td key={`schema-type-field-${key}-${index}`}>\n            <input\n              className=\"table-tbody-input\"\n              type=\"text\"\n              value={item}\n              disabled\n            />\n          </td>\n        ));\n      } else {\n        return schema.fields.map((item, index) => (\n          <td key={`schema-type-field-${key}-${index}`}>\n            <select\n              className=\"table-tbody-select\"\n              value={item[key] || \"\"}\n              onChange={(event) => handleChange(event, key, index)}\n            >\n              {types.type.map((item, index) => {\n                return (\n                  <option\n                    key={`schema-type-field-option-${item}-${index}`}\n                    value={item}\n                  >\n                    {item}\n                  </option>\n                );\n              })}\n            </select>\n          </td>\n        ));\n      }\n    }\n    //style for column rich type select field\n    const customStyles = {\n      menu: (provided, state) => ({\n        ...provided,\n        borderBottom: \"1px dotted pink\",\n        color: state.selectProps.menuColor,\n      }),\n      singleValue: (provided, state) => {\n        const opacity = state.isDisabled ? 0.5 : 1;\n        const transition = \"opacity 300ms\";\n        return { ...provided, opacity, transition };\n      },\n    };\n\n    if (key === \"columnType\") {\n      if (\n        props.dataset.resources &&\n        props.dataset.resources.length > 1 &&\n        resourceHasRichType(props.dataset)\n      ) {\n        const existingRichTypes = props.dataset.resources[0].schema.fields.map(\n          (field) => {\n            return field.columnType;\n          }\n        );\n        //The schema already exists, and we assume columns have the same richTypes. Prefill and set to uneditable\n        return existingRichTypes.map((item, index) => (\n          <td key={`schema-type-field-${key}-${index}`}>\n            <input\n              className=\"table-tbody-input\"\n              type=\"text\"\n              value={item}\n              disabled\n            />\n          </td>\n        ));\n      } else {\n        return schema.fields.map((item, index) => (\n          <td key={`schema-type-field-${key}-${index}`}\n            ref={selectRefsState[index]}\n          >\n            <Select\n              key={`select#${index}`}\n              styles={customStyles}\n              options={columnTypeOptions}\n              value={selectFieldInputs[index]}\n              inputValue={selectFieldInputs[index]}\n              menuColor=\"black\"\n              onChange={(event) => {\n                handleChange(event, key, index)\n              }}\n            />\n          </td>\n        ));\n      }\n    }\n\n    return schema.fields.map((item, index) => (\n      <td key={`schema-field-${key}-${index}`}>\n        <input\n          className=\"table-tbody-input\"\n          type=\"text\"\n          value={item[key]}\n          onChange={(event) => handleChange(event, key, index)}\n        />\n      </td>\n    ));\n  };\n\n  return (\n    <>\n      <div className=\"table-container\">\n        <table className=\"table-schema-help\">\n          <tbody>\n            <tr className=\"table-tbody-help-tr\">\n              <td className=\"table-tbody-help-td-empty\"></td>\n            </tr>\n            <tr className=\"table-tbody-help-tr\">\n              <td className=\"table-tbody-help-td\">Title</td>\n            </tr>\n            <tr className=\"table-tbody-help-tr\">\n              <td className=\"table-tbody-help-td\">Description</td>\n            </tr>\n            <tr className=\"table-tbody-help-tr\">\n              <td className=\"table-tbody-help-td\">Type</td>\n            </tr>\n            <tr className=\"table-tbody-help-tr\">\n              <td className=\"table-tbody-help-td\">Format</td>\n            </tr>\n            <tr className=\"table-tbody-help-tr\">\n              <td className=\"table-tbody-help-td\">Rich Type</td>\n            </tr>\n          </tbody>\n        </table>\n        <div className=\"table-schema-info_container\">\n          <table className=\"table-schema-info_table\" {...getTableProps()}>\n            <thead>\n              {headerGroups.map((headerGroup) => (\n                <tr\n                  className=\"table-thead-tr\"\n                  {...headerGroup.getHeaderGroupProps()}\n                >\n                  {headerGroup.headers.map((column) => (\n                    <th className=\"table-thead-th\" {...column.getHeaderProps()}>\n                      {column.render(\"Header\")}\n                    </th>\n                  ))}\n                </tr>\n              ))}\n            </thead>\n            <tbody {...getTableBodyProps()}>\n              <tr className=\"table-tbody-tr-help\">\n                {renderEditSchemaField(\"title\")}\n              </tr>\n              <tr className=\"table-tbody-tr-help\">\n                {renderEditSchemaField(\"description\")}\n              </tr>\n              <tr>{renderEditSchemaField(\"type\")}</tr>\n              <tr>{renderEditSchemaField(\"format\")}</tr>\n              <tr>{renderEditSchemaField(\"columnType\")}</tr>\n              <br />\n              {rows.map((row) => {\n                prepareRow(row);\n                return (\n                  <tr {...row.getRowProps()}>\n                    {row.cells.map((cell) => {\n                      return (\n                        <td {...cell.getCellProps()} className=\"table-tbody-td\">\n                          {cell.render(\"Cell\")}\n                        </td>\n                      );\n                    })}\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n};\n\nTableSchema.propTypes = {\n  schema: PropTypes.object.isRequired,\n  data: PropTypes.array.isRequired,\n  handleRichType: PropTypes.func.isRequired,\n};\n\nexport default TableSchema;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n\nconst ResourceList = ({ dataset, deleteResource, addResourceScreen }) => {\n  const hasResources = Object.keys(dataset).includes(\"resources\")\n  if (!hasResources) {\n    return (\n      <div>\n        <div>\n          <h1>No Resource Available</h1>\n        </div>\n        <div className=\"resource-edit-actions\">\n          <button className=\"btn\" onClick={() => { addResourceScreen() }}>\n            Add Resource\n          </button>\n        </div>\n      </div>\n    )\n  }\n  const resources = [...dataset.resources]\n\n  return (\n    <div>\n      <div className=\"justify-center\">\n        <div>\n          <h1>\n            Available Resources in Dataset\n          </h1>\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {resources.map((resource, i) => {\n                return (\n                  <tr key={`${i}-index`}>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"ml-4\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {resource.title || resource.name} \n                          </div>\n\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"ml-4\">\n                          <button id={`rmBtn${i}`}\n                            type=\"button\"\n                            className=\"btn-delete\"\n                            onClick={() => { deleteResource(resource.hash) }}>Remove</button>\n                        </div>\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <div className=\"resource-edit-actions\">\n            <button className=\"btn\" onClick={() => { addResourceScreen() }}>\n              Add Resource\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nResourceList.propTypes = {\n  dataset: PropTypes.object.isRequired,\n  deleteResource: PropTypes.func.isRequired,\n  addResourceScreen: PropTypes.func.isRequired\n};\n\nexport default ResourceList;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { encodeData } from \"datapub\";\nimport countries from \"../../db/countries.json\";\nimport \"./Metadata.css\";\n\nconst Metadata = ({ dataset, handleChange }) => {\n  const isCheck = (val, field) => {\n    return dataset[field] && dataset[field].includes(val);\n  };\n\n  return (\n    <>\n      <h3 className=\"metadata-section-title\">\n        Mandatory fields are marked with an asterisk (\n        <span className=\"ast-important\">*</span>).\n      </h3>\n      <h1 className=\"metadata-section-title\">\n        <b>General</b>\n      </h1>\n      <div className=\"metadata-input\">\n        <input\n          className=\"metadata-input__input\"\n          type=\"text\"\n          name=\"title\"\n          id=\"title\"\n          placeholder=\"example_file.csv\"\n          value={dataset.title}\n          required\n          onChange={(e) => {\n            handleChange(e);\n          }}\n        />\n        <label className=\"metadata-label\" htmlFor=\"title\">\n          <span className=\"ast-important\">*</span> Title of the dataset\n        </label>\n      </div>\n\n      <div className=\"metadata-input\">\n        <textarea\n          className=\"metadata-input__textarea\"\n          type=\"text\"\n          name=\"description\"\n          id=\"description\"\n          placeholder=\"Enter a description for your dataset\"\n          value={dataset.description || \"\"}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n          rows={5}\n          required\n        ></textarea>\n        <label className=\"metadata-label\" htmlFor=\"description\">\n          <span className=\"ast-important\">*</span> Description of the dataset\n        </label>\n      </div>\n      <div className=\"metadata-input\">\n        <input\n          className=\"metadata-input__input\"\n          type=\"url\"\n          name=\"image\"\n          id=\"image\"\n          placeholder=\"https://mylogo.png\"\n          value={dataset.image}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n        />\n        <label className=\"metadata-label\" htmlFor=\"title\">\n          Logo Url\n        </label>\n      </div>\n      <div className=\"metadata-input\">\n        <textarea\n          type=\"text\"\n          name=\"tags\"\n          id=\"tags\"\n          className=\"metadata-input-textarea\"\n          placeholder=\"Finance, Budget\"\n          required\n          value={dataset.tags || \"\"}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n          rows={2}\n        ></textarea>\n        <div className=\"tooltip\">\n          <span className=\"tooltiptext\">\n            Only letters are allowed: tags are single words separated by a comma\n          </span>\n          <label className=\"metadata-label\" htmlFor=\"tags\">\n            <span className=\"ast-important\">*</span>\n            Tags\n          </label>\n        </div>\n      </div>\n\n      <div className=\"metadata-form-grp3\">\n        <div className=\"metadata-input\">\n          <select\n            className=\"metadata-input__input\"\n            name=\"govt_level\"\n            id=\"govt_level\"\n            value={dataset.govt_level || \"\"}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n            required\n          >\n            <option value=\"\">Select</option>\n            <option value=\"Municipal\">Municipal</option>\n            <option value=\"National\">National</option>\n            <option value=\"Provincial\">Provincial</option>\n            <option value=\"Regional\">Regional</option>\n            <option value=\"State-level\">State-level</option>\n          </select>\n          <label className=\"metadata-label\" htmlFor=\"govt_level\">\n            <span className=\"ast-important\">*</span> Level of government\n          </label>\n        </div>\n        <div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"State own enterprises\", \"disaggregation\")}\n              id=\"dgg_state\"\n              name=\"disaggregation\"\n              value=\"State own enterprises\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"dgg_state\"> State own enterprises</label>\n          </div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Public investments\", \"disaggregation\")}\n              id=\"dgg_pub_inv\"\n              name=\"disaggregation\"\n              value=\"Public investments\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"dgg_pub_inv\"> Public investments</label>\n          </div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Public programs\", \"disaggregation\")}\n              id=\"dgg_pub_prog\"\n              name=\"disaggregation\"\n              value=\"Public programs\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"dgg_pub_prog\"> Public programs</label>\n          </div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Line item\", \"disaggregation\")}\n              id=\"dgg_line\"\n              name=\"disaggregation\"\n              value=\"Line item\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"dgg_line\"> Line item</label>\n          </div>\n          <label className=\"metadata-label-checkbox\">Disaggregation</label>\n        </div>\n\n        <div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Quarterly Reports\", \"budget_stage\")}\n              id=\"budget_qt\"\n              name=\"budget_stage\"\n              value=\"Quarterly Reports\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"budget_qt\"> Quarterly Reports</label>\n          </div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Year-end\", \"budget_stage\")}\n              id=\"budget_yr\"\n              name=\"budget_stage\"\n              value=\"Year-end\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"budget_yr\"> Year-end</label>\n          </div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Proposed\", \"budget_stage\")}\n              id=\"budget_prop\"\n              name=\"budget_stage\"\n              value=\"Proposed\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"budget_prop\"> Proposed</label>\n          </div>\n          <div className=\"metadata-input__input\">\n            <input\n              type=\"checkbox\"\n              checked={isCheck(\"Enacted\", \"budget_stage\")}\n              id=\"budget_st\"\n              name=\"budget_stage\"\n              value=\"Enacted\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n            <label htmlFor=\"budget_st\"> Enacted</label>\n          </div>\n          <label className=\"metadata-label-checkbox\">Budget Stage</label>\n        </div>\n      </div>\n\n      <h1 className=\"metadata-section-title\">\n        <b>Owner</b>\n      </h1>\n      <div className=\"metadata-form\">\n        <div className=\"metadata-input\">\n          <input\n            className=\"metadata-input__input\"\n            type=\"url\"\n            name=\"author_website\"\n            id=\"author_website\"\n            value={dataset.author_website}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label className=\"metadata-label\" htmlFor=\"author_website\">\n            Author's Website\n          </label>\n        </div>\n        <div className=\"metadata-input\">\n          <input\n            className=\"metadata-input__input\"\n            type=\"email\"\n            name=\"author_email\"\n            id=\"author_email\"\n            value={dataset.author_email}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label className=\"metadata-label\" htmlFor=\"author_email\">\n            Author's Email Address\n          </label>\n        </div>\n      </div>\n      <div className=\"metadata-input\">\n        <input\n          className=\"metadata-input__input\"\n          type=\"text\"\n          name=\"pub_institutional_name\"\n          id=\"pub_institutional_name\"\n          value={dataset.pub_institutional_name}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n          required\n        />\n        <label className=\"metadata-label\" htmlFor=\"pub_institutional_name\">\n          <span className=\"ast-important\">*</span> Publishers' institutional\n          name\n        </label>\n      </div>\n      <br />\n\n      <h1 className=\"metadata-section-title\">\n        <b>Location</b>\n      </h1>\n\n      <div className=\"metadata-form\">\n        <div className=\"metadata-input\">\n          <select\n            className=\"metadata-input__input\"\n            name=\"continent\"\n            id=\"continent\"\n            value={dataset.continent || \"\"}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n            required\n          >\n            <option value=\"\">Select</option>\n            <option value=\"Europe\">Europe</option>\n            <option value=\"Africa\">Africa</option>\n            <option value=\"Asia\">Asia</option>\n            <option value=\"North America\">North America</option>\n            <option value=\"South America\">South America</option>\n            <option value=\"Australia\">Australia</option>\n          </select>\n          <label className=\"metadata-label\" htmlFor=\"continent\">\n            Continent\n          </label>\n        </div>\n        <div className=\"metadata-input\">\n          <input\n            className=\"metadata-input__input\"\n            type=\"text\"\n            name=\"region\"\n            id=\"region\"\n            value={dataset.region}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label className=\"metadata-label\" htmlFor=\"region\">\n            Region\n          </label>\n        </div>\n      </div>\n\n      <div className=\"metadata-form\">\n        <div className=\"metadata-input\">\n          <select\n            className=\"metadata-input__input\"\n            name=\"country\"\n            id=\"country\"\n            value={dataset.country || \"\"}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          >\n            <option value=\"\">Select</option>\n            {countries.map((item) => (\n              <option key={`format-${item.text}`} value={item.text}>\n                {item.text}\n              </option>\n            ))}\n          </select>\n          <label className=\"metadata-label\" htmlFor=\"encoding\">\n            Country\n          </label>\n        </div>\n        <div className=\"metadata-input\">\n          <input\n            className=\"metadata-input__input\"\n            type=\"text\"\n            name=\"city\"\n            id=\"city\"\n            value={dataset.city}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label className=\"metadata-label\" htmlFor=\"city\">\n            City\n          </label>\n        </div>\n      </div>\n      <h1 className=\"metadata-section-title\">\n        <b>Time</b>\n      </h1>\n      <div className=\"metadata-form\">\n        <div className=\"metadata-input\">\n          <select\n            className=\"metadata-input__input\"\n            name=\"periodicity\"\n            id=\"periodicity\"\n            value={dataset.periodicity || \"\"}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n            required\n          >\n            <option value=\"\">Select</option>\n            <option value=\"Yearly\">Yearly</option>\n            <option value=\"Biannual\">Biannual</option>\n            <option value=\"Quarterly\">Quarterly</option>\n            <option value=\"Monthly\">Monthly</option>\n            <option value=\"Daily\">Daily</option>\n          </select>\n          <label className=\"metadata-label\" htmlFor=\"periodicity\">\n            <span className=\"ast-important\">*</span> Periodicity\n          </label>\n        </div>\n        <div className=\"metadata-input\">\n          <textarea\n            className=\"metadata-input__textarea\"\n            type=\"text\"\n            name=\"years_included\"\n            id=\"years_included\"\n            placeholder=\"2015, 2016, 2017, 2005\"\n            value={dataset.years_included || \"\"}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n            rows={1}\n          ></textarea>\n          <label className=\"metadata-label\" htmlFor=\"years_included\">\n            {\" \"}\n            Years included\n          </label>\n        </div>\n      </div>\n\n      <h1 className=\"metadata-section-title\">\n        <b>Fiscal Period</b>\n      </h1>\n      <div className=\"metadata-form\">\n        <div className=\"metadata-input\">\n          <input\n            className=\"metadata-input__input\"\n            type=\"date\"\n            name=\"start_date\"\n            id=\"start_date\"\n            value={dataset.start_date}\n            required\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label className=\"metadata-label\" htmlFor=\"start_date\">\n            <span className=\"ast-important\">*</span> Starting date\n            (month-day-year)\n          </label>\n        </div>\n        <div className=\"metadata-input\">\n          <input\n            className=\"metadata-input__input\"\n            type=\"date\"\n            name=\"end_date\"\n            id=\"end_date\"\n            value={dataset.end_date}\n            required\n            onChange={(e) => {\n              handleChange(e);\n            }}\n          />\n          <label className=\"metadata-label\" htmlFor=\"end_date\">\n            <span className=\"ast-important\">*</span> Ending date\n            (month-day-year)\n          </label>\n        </div>\n      </div>\n      <h1 className=\"metadata-section-title\">\n        <b>Encoding and file format</b>\n      </h1>\n      <div className=\"metadata-form\">\n        <div className=\"metadata-input\">\n          <select\n            className=\"metadata-input__input\"\n            name=\"encoding\"\n            id=\"encoding\"\n            value={dataset.encoding || \"\"}\n            onChange={(e) => {\n              handleChange(e);\n            }}\n            required\n          >\n            <option value=\"utf_8\">UTF-8</option>\n            {encodeData.map((item) => (\n              <option key={`format-${item.value}`} value={item.value}>\n                {item.label}\n              </option>\n            ))}\n          </select>\n          <label className=\"metadata-label\" htmlFor=\"encoding\">\n            <span className=\"ast-important\">*</span> File encoding: If you are\n            unsure about this setting, please use UTF-8\n          </label>\n        </div>\n        <div className=\"metadata-input\">\n          <select className=\"metadata-input__input\" name=\"format\" id=\"format\">\n            <option value=\"csv\">CSV</option>\n          </select>\n          <label className=\"metadata-label\" htmlFor=\"format\">\n            File format\n          </label>\n        </div>\n      </div>\n    </>\n  );\n};\n\nMetadata.propTypes = {\n  dataset: PropTypes.object.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default Metadata;\n","export default __webpack_public_path__ + \"static/media/progressBar.36729dc1.svg\";","import React from \"react\";\nimport axios from \"axios\";\nimport TypeProcessor from \"os-types/src/index\";\nimport fileDownload from \"js-file-download\";\nimport PropTypes from \"prop-types\";\nimport Upload from \"./components/Upload\";\nimport TablePreview from \"./components/TablePreview\";\nimport TableSchema from \"./components/TableSchema\";\nimport ResourceList from \"./components/ResourceList\";\nimport Metadata from \"./components/Metadata\";\nimport \"./App.css\";\nimport ReactLogo from \"./progressBar.svg\";\n\nexport class DatasetEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    const dataset = props.config.dataset;\n    dataset.encoding = \"utf_8\";\n    dataset.format = \"csv\";\n\n    this.state = {\n      dataset,\n      resource: {}, //This will hold the uploaded resource metadata\n      datasetId: dataset.id,\n      ui: {\n        fileOrLink: \"\",\n        uploadComplete: false,\n        success: false,\n        error: false,\n        loading: false,\n        errorMsg: \"\",\n      },\n      client: null,\n      isResourceEdit: false,\n      currentStep: props.config.skipUpload ? 4 : 0,\n      richTypeFilled: false,\n      saveButtonText: \"Save\",\n    };\n    this.metadataHandler = this.metadataHandler.bind(this);\n    this.handleRichTypeCount = this.handleRichTypeCount.bind(this);\n  }\n\n  metadataHandler(resource) {\n    let {\n      dataset,\n      resource: updatedResource,\n    } = this.mapResourceToDatapackageResource(resource);\n    this.setState({\n      dataset,\n      resource: updatedResource,\n      tablePreviewSample: resource.tablePreviewSample,\n      tablePreviewColumns: resource.tablePreviewColumns,\n    });\n  }\n\n  mapResourceToDatapackageResource(fileResource) {\n    let dataset = { ...this.state.dataset };\n    let resource = {};\n\n    resource[\"bytes\"] = fileResource.size;\n    resource[\"hash\"] = fileResource.hash;\n    resource[\"format\"] = fileResource.format;\n    resource[\"schema\"] = fileResource.schema;\n    resource[\"encoding\"] = fileResource.encoding;\n    resource[\"mediatype\"] = \"text/csv\"\n    resource[\"name\"] = fileResource.name;\n    resource[\"dialect\"] = fileResource.dialect;\n    resource[\"path\"] = fileResource.path;\n    resource[\"hashcopy\"] = fileResource.hashCopy;\n\n    if (Object.keys(dataset).includes(\"resources\")) {\n      dataset.resources.push(resource);\n    } else {\n      dataset[\"resources\"] = [resource];\n    }\n    resource[\"sample\"] = fileResource.sample;\n    return { dataset, resource };\n  }\n\n  //set state of rich type field. If all rich type fields have been filled,\n  // then activate the next button in the Table Schema screen\n  handleRichTypeCount = (unfilledRichTypes) => {\n    if (unfilledRichTypes <= 0) {\n      this.setState({\n        richTypeFilled: true,\n      });\n    } else {\n      this.setState({\n        richTypeFilled: false,\n      });\n    }\n  };\n\n  handleChangeMetadata = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    const dataset = { ...this.state.dataset };\n\n    if ([\"tags\", \"years_included\"].includes(name)) {\n      const vals = value.split(\",\");\n      const values = vals.map((val) => val.trim());\n      dataset[name] = Array.from(new Set(values));\n    } else if ([\"disaggregation\", \"budget_stage\"].includes(name)) {\n      let currentVals = dataset[name] || [];\n      if (!target.checked) {\n        currentVals = currentVals.filter((val) => val != value); //remove value\n        dataset[name] = currentVals;\n      } else {\n        if (!currentVals.includes(value)) {\n          //only add value if it is unique\n          currentVals.push(value);\n          dataset[name] = currentVals;\n        }\n      }\n    } else {\n      dataset[name] = value;\n    }\n    this.setState({\n      dataset,\n    });\n  };\n\n  mapDatasetToFiscalFormat = (resource) => {\n    const dataset = { ...this.state.dataset };\n    let model;\n    let schema;\n    if (dataset.resources.length > 1) {\n      //There's an existing resource, get schema and model\n      model = dataset.resources[0].model;\n      schema = dataset.resources[0].schema;\n      resource.schema = schema;\n      resource.model = model;\n    } else {\n      //first resource, generate schema and model\n      resource.schema.fields.forEach((f) => {\n        f.type = f.columnType;\n        delete f.columnType; //os-types requires type to be of rich type and will not accept the property columnType\n      });\n      let fdp = new TypeProcessor().fieldsToModel(resource[\"schema\"][\"fields\"]);\n      resource.schema.fields = Object.values(fdp.schema.fields);\n      resource.model = fdp.model;\n    }\n\n    const resources = dataset.resources.map((res) => {\n      if (res.hash == resource.hash) {\n        return resource;\n      } else {\n        return res;\n      }\n    });\n\n    this.setState({\n      dataset: { ...dataset, resources },\n    });\n  };\n\n  downloadDatapackage = async () => {\n    fileDownload(JSON.stringify(this.state.dataset), \"datapackage.json\");\n  };\n\n  deleteResource = (hash) => {\n    const { dataset } = { ...this.state };\n    if (window.confirm(\"Are you sure you want to delete this resource?\")) {\n      const temp_dataset = { ...dataset };\n      let path;\n      if (temp_dataset.resources.length == 1) {\n        path = temp_dataset.resources[0].path;\n        temp_dataset.resources = [];\n      } else {\n        const newResource = temp_dataset.resources.filter((resource) => {\n          if (resource.hash == hash) {\n            path = resource.path;\n          }\n          return resource.hash != hash;\n        });\n        temp_dataset.resources = newResource;\n      }\n      axios({\n        method: \"delete\",\n        url: `/api/dataset/${temp_dataset.name}`,\n        data: {\n          metadata: temp_dataset,\n          path,\n        },\n      })\n        .then((response) => {\n          this.setState({ dataset: temp_dataset, resource: {} });\n          alert(\"Resource has been removed successfully\");\n        })\n        .catch((error) => {\n          console.log(error);\n          alert(\"Error when removing resource!\");\n        });\n    }\n  };\n\n  setLoading = (isLoading) => {\n    this.setState({\n      ui: { ...this.state.ui, loading: isLoading },\n    });\n  };\n\n  handleUploadStatus = (status) => {\n    const { ui } = this.state;\n    const newUiState = {\n      ...ui,\n      success: status.success,\n      error: status.error,\n      loading: status.loading,\n      errorMsg: status.errorMsg,\n    };\n    this.setState({ ui: newUiState });\n    if (status.success && !status.loading) {\n      this.nextScreen();\n    } else if (!status.success && status.error) {\n      this.prevScreen();\n    }\n\n    //clears error message after 15 seconds\n    setTimeout(() => {\n      this.setState({ ui: { ...this.state.ui, errorMsg: \"\" } });\n    }, 15000);\n  };\n\n  onChangeResourceId = (resourceId) => {\n    this.setState({ resourceId });\n  };\n\n  nextScreen = () => {\n    let currentStep = this.state.currentStep;\n    if (currentStep == 3) {\n      this.mapDatasetToFiscalFormat({ ...this.state.resource }); //generate model and fiscal schema as soon as richtypes have been updated.\n    }\n    let newStep = currentStep + 1;\n    this.setState({ currentStep: newStep });\n  };\n\n  prevScreen = () => {\n    let newStep = this.state.currentStep - 1;\n    this.setState({ currentStep: newStep });\n  };\n\n  handleSaveDataset = async () => {\n    this.setState({ saveButtonText: \"Saving...\" });\n    axios({\n      method: \"post\",\n      url: `/api/dataset/${this.state.dataset.name}`,\n      data: {\n        metadata: this.state.dataset,\n        description: this.state.dataset.description,\n      },\n    })\n      .then((response) => {\n        this.setState({ saveButtonText: \"Save\" });\n        this.setState({ currentStep: 0 });\n        alert(\"Uploaded Sucessfully\");\n        \n      })\n      .catch((error) => {\n        console.log(error);\n        alert(\"Error on upload dataset!\");\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div>\n          <h1 className=\"errorMsg\">{this.state.ui.errorMsg}</h1>\n        </div>\n        {this.state.currentStep > 0 && (\n          <img src={ReactLogo} width=\"50%\" className=\"Img\" />\n        )}\n        <form\n          className=\"upload-wrapper\"\n          onSubmit={(event) => {\n            event.preventDefault();\n            return this.handleSaveDataset();\n          }}\n        >\n          {this.state.currentStep == 0 && (\n            <>\n              <ResourceList\n                dataset={this.state.dataset}\n                addResourceScreen={this.nextScreen}\n                deleteResource={this.deleteResource}\n              />\n            </>\n          )}\n\n          {this.state.currentStep == 1 && (\n            <div>\n              <div className=\"upload-header\">\n                <h1 className=\"upload-header__title_h1\">\n                  Provide your data file\n                </h1>\n                <h2 className=\"upload-header__title_h2\">\n                  Supported format: CSV\n                </h2>\n              </div>\n\n              <Upload\n                client={this.state.client}\n                resource={this.state.resource}\n                metadataHandler={this.metadataHandler}\n                datasetId={this.state.datasetId}\n                handleUploadStatus={this.handleUploadStatus}\n                organizationId={\"gift-data\"}\n                authToken={this.props.config.authToken}\n                lfsServerUrl={this.props.config.lfsServerUrl}\n                dataset={this.state.dataset}\n              />\n            </div>\n          )}\n\n          <div className=\"upload-edit-area\">\n            {this.state.resource.sample && this.state.currentStep == 2 && (\n              <>\n                <div className=\"upload-header\">\n                  <h1 className=\"upload-header__title_h1\">\n                    Preview of your dataset\n                  </h1>\n                </div>\n                <TablePreview\n                  columns={this.state.tablePreviewColumns}\n                  data={this.state.tablePreviewSample}\n                />\n              </>\n            )}\n            {this.state.resource.schema && this.state.currentStep == 3 && (\n              <>\n                <div className=\"upload-header\">\n                  <h1 className=\"upload-header__title_h1\">\n                    Describe your dataset\n                  </h1>\n                </div>\n                <TableSchema\n                  dataset={this.state.dataset}\n                  schema={this.state.resource.schema}\n                  data={this.state.tablePreviewSample || []}\n                  handleRichType={this.handleRichTypeCount}\n                />\n              </>\n            )}\n            {this.state.currentStep == 4 && !this.state.savedDataset && (\n              <>\n                <div className=\"upload-header\">\n                  <h1 className=\"upload-header__title_h1\">Describe Metadata</h1>\n                </div>\n                <Metadata\n                  dataset={this.state.dataset}\n                  handleChange={this.handleChangeMetadata}\n                />\n              </>\n            )}\n            <div>\n              {this.state.currentStep == 4 &&\n                !this.state.isResourceEdit &&\n                this.state.resource && (\n                  <button className=\"btn-save\" type=\"submit\">\n                    {this.state.saveButtonText}\n                  </button>\n                )}\n              {this.state.currentStep == 4 &&\n                !this.state.isResourceEdit &&\n                this.state.resource && (\n                  <button\n                    type=\"button\"\n                    className=\"btn-download\"\n                    onClick={this.downloadDatapackage}\n                  >\n                    Download Package\n                  </button>\n                )}\n            </div>\n          </div>\n        </form>\n\n        <div className=\"resource-edit-actions\">\n          {this.state.ui.success && this.state.currentStep == 2 && (\n            <button className=\"btn\" onClick={this.nextScreen}>\n              Next\n            </button>\n          )}\n\n          {this.state.currentStep == 3 ? (\n            this.state.richTypeFilled ? (\n              <button className=\"btn\" onClick={this.nextScreen}>\n                Next\n              </button>\n            ) : (\n              <button disabled={true} className=\"btn\">\n                Next\n              </button>\n            )\n          ) : (\n            \"\"\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * If the parent component doesn't specify a `config` and scope prop, then\n * the default values will be used.\n * */\nDatasetEditor.defaultProps = {\n  config: {\n    authorizedApi: \"/api/authorize/\",\n    lfsServerUrl: \"https://localhost:6000\",\n    dataset: {},\n    metastoreApi: \"/api/dataset/\",\n  },\n};\n\nDatasetEditor.propTypes = {\n  config: PropTypes.object.isRequired,\n};\n\nexport default DatasetEditor;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/main.css\";\nimport App from \"./App\";\n// import * as data from './data.json';\n// import { metadataEmpty, metadataSingle, metadataDouble } from \"./data/metadata\";\n\n// Automatically mount the app if an element with id='ResourceEditor' exists\nconst element = document.getElementById(\"ResourceEditor\");\nif (element) {\n  const config = {\n    authorizedApi: \"/api/authorize\",\n    lfsServerUrl: \"https://giftless-gift.herokuapp.com\",\n    dataset: {}, //for test purpose, suppose to be provided by portal\n    metastoreApi: \"/api/dataset\",\n    skipUpload: false //skip to the metadata screen\n  };\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App config={config} />\n    </React.StrictMode>,\n    element\n  );\n}\n"],"sourceRoot":""}